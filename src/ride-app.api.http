@baseUrl = http://localhost:3000

### ===============================
### USER REGISTER
### ===============================
POST {{baseUrl}}/auth/register-user
Content-Type: application/json

{
  "firstName": "John",
  "lastName": "Doe",
  "email": "john.user@test.com",
  "password": "password123",
  "phone": "9876543210"
}

> {% 
  client.global.set("userId", response.body._id);
%}

### ===============================
### USER LOGIN
### ===============================
POST {{baseUrl}}/auth/login-user
Content-Type: application/json

{
  "email": "john.user@test.com",
  "password": "password123"
}

> {% 
  client.global.set("userToken", response.body.access_token);
%}

### ===============================
### USER UPDATE
### ===============================
PATCH {{baseUrl}}/users/update
Content-Type: application/json
Authorization: Bearer {{userToken}}

{
  "firstName": "Jonathan",
  "lastName": "Doe-Updated",
  "phone": "9876543211"
}

### ===============================
### DRIVER REGISTER
### ===============================
POST {{baseUrl}}/auth/register-driver
Content-Type: application/json

{
  "fullName": "Mike Johnson",
  "email": "mike.driver@test.com",
  "password": "driver123",
  "phone": "8765432109",
  "licenseNumber": "DL123456789",
  "termsAccepted": true
}

> {% 
  client.global.set("driverId", response.body._id);
%}

### ===============================
### DRIVER LOGIN
### ===============================
POST {{baseUrl}}/auth/login-driver
Content-Type: application/json

{
  "email": "mike.driver@test.com",
  "password": "driver123"
}

> {% 
  client.global.set("driverToken", response.body.access_token);
%}

### ===============================
### DRIVER UPDATE
### ===============================
PATCH {{baseUrl}}/drivers/update
Content-Type: application/json
Authorization: Bearer {{driverToken}}

{
  "fullName": "Michael Johnson",
  "phone": "8765432108"
}

### ===============================
### CREATE VEHICLE
### ===============================
POST {{baseUrl}}/drivers/vehicles
Content-Type: application/json
Authorization: Bearer {{driverToken}}

{
  "make": "Toyota",
  "model": "Camry",
  "year": 2023,
  "seats": 5,
  "licensePlate": "ABC123",
  "vehicleType": "Sedan",
  "vehicleClass": "Comfort",
  "baseFare": 50,
  "perKilometerRate": 15,
  "minimumFare": 100,
  "waitingCharge": 5
}

> {% 
  client.global.set("vehicleId", response.body._id);
%}

### ===============================
### CREATE BOOKING
### ===============================
POST {{baseUrl}}/drivers/bookings
Content-Type: application/json
Authorization: Bearer {{driverToken}}

{
  "vehicleId": "{{vehicleId}}",
  "userId": "{{userId}}",
  "pickupLocation": {
    "address": "Downtown Station",
    "latitude": 40.7128,
    "longitude": -74.0060
  },
  "dropoffLocation": {
    "address": "Airport Terminal",
    "latitude": 40.7761,
    "longitude": -73.8735
  },
  "estimatedDistance": 15.5,
  "estimatedFare": 250
}

> {% 
  client.global.set("bookingId", response.body._id);
%}

### ===============================
### ACCEPT BOOKING
### ===============================
POST {{baseUrl}}/drivers/bookings/{{bookingId}}/accept
Authorization: Bearer {{driverToken}}

### ===============================
### START RIDE
### ===============================
POST {{baseUrl}}/drivers/bookings/{{bookingId}}/start
Authorization: Bearer {{driverToken}}

### ===============================
### COMPLETE RIDE
### ===============================
POST {{baseUrl}}/drivers/bookings/{{bookingId}}/complete
Content-Type: application/json
Authorization: Bearer {{driverToken}}

{
  "actualDistance": 15.8,
  "actualFare": 260
}

### ===============================
### RATE USER
### ===============================
POST {{baseUrl}}/drivers/bookings/{{bookingId}}/rate-user
Content-Type: application/json
Authorization: Bearer {{driverToken}}

{
  "rating": 5,
  "review": "Great passenger, courteous and clean"
}
